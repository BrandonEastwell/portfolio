---
import Header from '../components/header.astro';
import Layout from '../layouts/Layout.astro';
import "../styles/globals.css";
import Links from "../components/links.astro";
import Projects from "../components/projects.astro";
import Experience from "../components/experience.astro";
import Footer from "../components/footer.astro";
---

<Layout>
	<div class="linkbar hidden fixed w-full z-100 backdrop-blur-sm">
		<div class="max-w-[430px] px-6 py-6 m-auto flex flex-row gap-4">
			<Links />
		</div>
	</div>
	<div class="px-6 py-6 max-w-[430px] m-auto">
		<div class="flex flex-row gap-4">
			<Links />
		</div>
		<Header />
		<Experience />
		<Projects />
		<Footer />
	</div>
</Layout>

<script>
	import { gsap } from "gsap";
	let scrolled = false
	let linkbar =  document.querySelector(".linkbar") as HTMLElement;
	window.addEventListener("scroll", () => {
		if (!scrolled && window.scrollY > 100) {
			linkbar.classList.remove("hidden")
			gsap.fromTo(linkbar, { y: -100 }, { y: 0, duration: 0.6})
			scrolled = true
		}

		if (window.scrollY === 0) {
			linkbar.classList.add("hidden")
			scrolled = false
		}
	})
</script>